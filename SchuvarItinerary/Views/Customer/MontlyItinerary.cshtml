@model IEnumerable<SchuvarItinerary.DataBase.Flycustomer>
@{
  ViewData["Title"] = "Montly Itinerary";
  string textColor = "bg-success";
}

<div class="containter">
  <div class="row">
    <div class="col-12">
      <h3 class="text-center @textColor text-white">MONTLY ITINERARY RESUME.</h3>
      <form asp-controller="Customer" asp-action="MontlyItinerary" class="d-flex justify-content-end">
        <div class="col-sm-6 col-md-4">
          <label for="" class="form-label">Filter By Month</label>
          <div class="input-group">
            <i class="input-group-text fas fa-calendar-alt"></i>
            <input id="month" type="month" name="month" class="form-control" aria-label="Date">
            <input type="submit" value="Filter" class="btn btn-primary" />
          </div>
        </div>
      </form>
      <div>
        <hr class="border border-primary border-3 opacity-75">
      </div>
    </div>
    <div class="col-12">
      @if (Model.Count() < 1)
      {
        <div class="alert @(Model.Count() < 1 ? "alert-info" : "") text-white text-center mt-5 col-md-5 mx-auto">
          <h4> No Data To Show </h4>
        </div>
      }
      else
      {
        <table class="table table-responsive table-striped table-bordered table-hover">
          <thead class="text-center">
            <tr>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerIdcustomerNavigation.CustomerFullname)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerIdcustomerNavigation.CustomerPhone)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerIdaerolineaNavigation.AerolineaShortname)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerRoute)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerLocalyzer)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerDeparture)</th>
              <th>@Html.DisplayNameFor(h=> h.FlycustomerArrivals)</th>
              <th colspan="2">Actions</th>
            </tr>
          </thead>
          <tbody class="align-middle">
            @foreach (var data in Model)
            {
              <tr class="list-row">
                <td>@data.FlycustomerIdcustomerNavigation.CustomerFullname</td>
                <td>@data.FlycustomerIdcustomerNavigation.CustomerPhone</td>
                <td>@data.FlycustomerIdaerolineaNavigation.AerolineaShortname</td>
                <td>@data.FlycustomerRoute</td>
                <td>@data.FlycustomerLocalyzer</td>
                <td>@Convert.ToDateTime(data.FlycustomerDeparture).ToShortDateString()</td>
                <td>@Convert.ToDateTime(data.FlycustomerArrivals).ToShortDateString()</td>
                <td class="justify-content-center" style="width:4%">
                  <a asp-action="UpdateCustomerItinerary" asp-controller="Customer" asp-route-id="@data.FlycustomerId"
                data-bs-toggle="tooltip" data-bs-title="Edit Customer Itinerary" data-bs-custom-class="custom-tooltip"
                data-bs-placement="top">
                    <i class="fas fa-edit btn btn-lg text-primary"></i>
                  </a>
                </td>
                <td class="text-center" style="width:4%">
                  <form asp-action="DeleteCustomerItinerary" asp-controller="Customer" asp-route-id="@data.FlycustomerId"
                method="post
                  ">
                    <button type="submit" data-bs-toggle="tooltip" data-bs-title="Delete Record"
                  data-bs-custom-class="custom-tooltip" data-bs-placement="right"><i
                    class="fas fa-trash btn btn-lg text-warning"></i>
                    </button>
                  </form>
                </td>
              </tr>
            }
          </tbody>
          <tfoot>
            <tr>
              <td colspan=9 class="text-start"><i class="fas fa-database"> Total Registers: @Model.Count()</i></td>
            </tr>
          </tfoot>
        </table>
      }
    </div>
  </div>
</div>
<script>
  const mes = document.getElementById('month').valueAsDate = new Date()
  const getDate = () => {
    alert(document.getElementById('month').value)
  }
</script>